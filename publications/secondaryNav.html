<div class="list-group" id="homeSecondaryNav">
    <div class="list-group-item list-group-item-dark bg-primary flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h3 class="mb-1">Publications</h3>
        </div>
    </div>
    <div class="list-group-item list-group-item-dark bg-info flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Archive</h5>
        </div>
    </div>
    <a href="/publications" class="list-group-item list-group-item-action">
        2016-2023
    </a>
    <a href="/publications/?startyear=2011&endyear=2015" class="list-group-item list-group-item-action">
        2011-2015
    </a>
    <a href="/publications/?startyear=2006&endyear=2010" class="list-group-item list-group-item-action">
        2006-2010
    </a>
    <a href="/publications/?startyear=1996&endyear=2005" class="list-group-item list-group-item-action">
        1996-2005
    </a>
    <a href="/publications/?startyear=1991&endyear=1995" class="list-group-item list-group-item-action">
        1991-1995
    </a>
    <a href="/publications/?startyear=1986&endyear=1990" class="list-group-item list-group-item-action">
        1986-1990
    </a>
    <a href="/publications/?journal=pre-prints" class="list-group-item list-group-item-action">
        Pre-Prints
    </a>
    <a href="/publications/covers" class="list-group-item list-group-item-action disabled">
        Journal Covers
    </a>
    <div class="list-group-item list-group-item-dark bg-info flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Year Range Filters</h5>
        </div>
    </div>
    <div class="list-group-item">
        <div class="form-group row">
            <label for="start-year" class="form-label  col-6">Start year</label>
            <div class="col-6">
                <select class="form-select col-6" id="start-year" name="start-year">
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                </select>
            </div>
        </div>
    </div>
    <div class="list-group-item">
        <div class="form-group row">
            <label for="end-year" class="form-label col-6">End year</label>
            <div class="col-6">
                <select class="form-select col-6" id="end-year" name="end-year">
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                </select>
            </div>
        </div>
    </div>
    <div class="list-group-item list-group-item-dark bg-info flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Publications Ordering</h5>
        </div>
    </div>
    <div class="list-group-item">
        <div class="">
            <select class="form-select" id="order" name="order">
                <option value="desc">Descending</option>
                <option value="asc">Ascending</option>
            </select>
        </div>
    </div>
    <div class="list-group-item list-group-item-dark bg-info flex-column align-items-start">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">Citation Style</h5>
        </div>
    </div>
    <div class="list-group-item">
        <div class="">
            <select class="form-select" id="format" name="format">
                <option value="default">Default</option>
                <!-- <option value="apa">APA Style</option>
                <option value="mla">MLA Style</option>
                <option value="chicago">Chicago Style</option> -->
            </select>
        </div>
    </div>
    <li class="list-group-item">
        <a href="https://connect.ebsco.com/s/article/Where-can-I-find-formatted-examples-of-different-Citation-styles?language=en_US" target="_blank">What are the differences between citation styles?</a>
    </li>
    <div class="list-group-item d-grid">
        <input class="btn btn-lg btn-primary" id="apply-filters-button" type="submit" value="Apply Filter" />
    </div>
</div>

<script>
    $(function () {
        $("#apply-filters-button").on("click", () => {

            const params = new URLSearchParams(window.location.search)

            const startYear = document.getElementById("start-year").value;
            const endYear = document.getElementById("end-year").value;
            const citationStyle = document.getElementById("format").value;
            const publicationOrdering = document.getElementById("order").value;
            const journal = (params.get("journal") == null) ? "default" : params.get("journal")

            if (startYear > endYear) return alert("Start year must be smaller than End year")

            const url = `/publications/?journal=${journal}&startyear=${startYear}&endyear=${endYear}&format=${citationStyle}&order=${publicationOrdering}`;

            window.location.href = url;
        })
    })
</script>